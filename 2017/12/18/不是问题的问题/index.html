<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="陈玉" />



<meta name="description" content="把之前项目中遇到的问题和知识点整理了一下，也做了一些思考，当问题解决了就不是问题了~哈哈哈">
<meta property="og:type" content="article">
<meta property="og:title" content="项目总结以及思考">
<meta property="og:url" content="http://yoursite.com/2017/12/18/不是问题的问题/index.html">
<meta property="og:site_name" content="陈玉的博客">
<meta property="og:description" content="把之前项目中遇到的问题和知识点整理了一下，也做了一些思考，当问题解决了就不是问题了~哈哈哈">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E5%99%A8.jpg">
<meta property="og:image" content="http://yoursite.com/{this.props.imgsrc}">
<meta property="og:image" content="http://yoursite.com/{this.props.imgsrc}">
<meta property="og:image" content="http://yoursite.com/{item}">
<meta property="og:image" content="http://yoursite.com/{`${qrcodeUrl}http://${item.domain}.t1.com`}">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E7%AE%A1%E7%90%86app%E7%9A%84%E9%A1%B5%E9%9D%A2%E7%BB%93%E6%9E%84.jpg">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%971.jpg">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%20%E5%BC%B9%E7%AA%972.jpg">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%973.jpg">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%974.jpg">
<meta property="og:image" content="http://obfnbicau.bkt.clouddn.com/%E6%88%91%E7%9A%84%E5%89%8D%E7%AB%AF%E4%BD%93%E7%B3%BB.png">
<meta property="og:updated_time" content="2017-12-28T12:37:59.988Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="项目总结以及思考">
<meta name="twitter:description" content="把之前项目中遇到的问题和知识点整理了一下，也做了一些思考，当问题解决了就不是问题了~哈哈哈">
<meta name="twitter:image" content="http://obfnbicau.bkt.clouddn.com/%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E5%99%A8.jpg">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="陈玉的博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>项目总结以及思考 | 陈玉的博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">陈玉</a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/1486019507@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/chenchenyuyu" title="GitHub"></a>
                            
                                <a class="fa 知乎" href="/zhihu" title="知乎"></a>
                            
                                <a class="fa QQ" href="/1486019507" title="QQ"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ps/">ps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端基础知识/">前端基础知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/协议/">协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机基础知识/">计算机基础知识</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">陈玉</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">陈玉</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/1486019507@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/chenchenyuyu" title="GitHub"></a>
                            
                                <a class="fa 知乎" target="_blank" href="/zhihu" title="知乎"></a>
                            
                                <a class="fa QQ" target="_blank" href="/1486019507" title="QQ"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-不是问题的问题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/18/不是问题的问题/" class="article-date">
      <time datetime="2017-12-18T02:30:09.000Z" itemprop="datePublished">2017-12-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      项目总结以及思考
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/总结/">总结</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="不是问题的问题"><a href="#不是问题的问题" class="headerlink" title="不是问题的问题"></a>不是问题的问题</h1><h2 id="沟通（项目管理，产品经理，设计师，后台）"><a href="#沟通（项目管理，产品经理，设计师，后台）" class="headerlink" title="沟通（项目管理，产品经理，设计师，后台）"></a>沟通（项目管理，产品经理，设计师，后台）</h2><ol>
<li>项目管理：项目完成排期，确认项目进度</li>
<li>产品经理： 对设计稿有什么疑惑直接寻找产品经理（逻辑部分）</li>
<li>设计师：（样式的更改，沟通解决)，一开始就应该寻找设计师询问（生成app部分的滚动条）布局（自适应）</li>
<li>后台对接接口</li>
</ol>
<h2 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h2><ul>
<li>react</li>
<li>对组件的安排（整个产品里面的相似部分，尽量封装在一起，提高代码的利用率）</li>
<li>接口组的安排（不影响其他业务的条件下）</li>
<li>对接接口（后台小伙伴的沟通）</li>
<li>以下一些知识点的掌握</li>
</ul>
<p>预览，生成二维码，颜色选择器，前端生成图片（base64转化为文件格式），进度条，弹窗，上传图片，图片的裁剪（canvas截图），路由的安排，折线图（react-highcharts(svg), react-echarts(canvas)）,图片上传文件过滤, 页面的架构搭建</p>
<h3 id="颜色选择器"><a href="#颜色选择器" class="headerlink" title="颜色选择器"></a>颜色选择器</h3><p><img src="http://obfnbicau.bkt.clouddn.com/%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E5%99%A8.jpg" alt="Alt text"></p>
<ol>
<li>颜色列表，hover的时候出现问题<a href="http://obfnbicau.bkt.clouddn.com/box-sizing.jpg" target="_blank" rel="external">box-sizing.html</a></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> &amp;:hover &#123;</div><div class="line">           box-sizing: border-box;</div><div class="line">           border: 1px solid @color-nav-bg;</div><div class="line">           box-shadow: @box-shadow-span;</div><div class="line">           border-radius: 3px;</div><div class="line">           &#125;</div><div class="line"></div><div class="line">``` </div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/box-sizing.jpg)</div><div class="line"></div><div class="line">2. 颜色选择器的封装</div><div class="line">3. 前端自动绘制logo(canvas实现)</div></pre></td></tr></table></figure>
<p>   createCanvas(color) {<br>        const logo = this.logo;<br>        const ctx = logo.getContext(‘2d’);<br>        ctx.fillStyle = color;<br>        ctx.fillRect(0, 0, 300, 300);<br>        ctx.textAlign = ‘center’;<br>        ctx.font = ‘90px Muna’;<br>        ctx.fillStyle = ‘#FFF’;<br>        ctx.fillText(this.state.val, 150, 110);<br>        const dataURL = logo.toDataURL(‘image/png’);<br>        if (this.props.onChange) {<br>            this.props.onChange(dataURL);<br>        }<br>    }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> 生成base64的图片链接，后台给定接口是：</div><div class="line"> </div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87.jpg)</div><div class="line">将base64格式图转化成file文件格式：[File 对象是特殊类型的 Blob](https://developer.mozilla.org/zh-CN/docs/Web/API/Blob)</div></pre></td></tr></table></figure>
<p>const debug = {hello: “world”};<br>const blob = new Blob([JSON.stringify(debug, null, 2)],<br>  {type : ‘application/json’});</p>
<h2 id="console-log-blob"><a href="#console-log-blob" class="headerlink" title="console.log(blob);"></a>console.log(blob);</h2><p>export const getBlobByDataURI = (data, type) =&gt; {<br>    const binary = window.atob(data.split(‘,’)[1]);<br>    const array = [];<br>    for (let i = 0; i &lt; binary.length; i += 1) {<br>        array.push(binary.charCodeAt(i));<br>    }<br>    return new Blob([new Uint8Array(array)], { type });<br>};</p>
<p>export const base64ToFile = uri =&gt; getBlobByDataURI(uri, ‘image/png’);</p>
<p>export const uploadImage = (file, types, ds) =&gt; new Promise((resolve, reject) =&gt; {<br>    if (types.length &amp;&amp; types.every(item =&gt; (file.type.indexOf(item)) === -1)) {<br>        reject();<br>    } else {<br>        const formData = new FormData();<br>        formData.append(‘file’, file);<br>        ds.resolve(‘pp/app.pics’, {<br>            body: formData,<br>            mode: ‘FormData’,<br>        }).then((res) =&gt; {<br>            resolve(<code>http://pic.kuaizhan.com${res.body.data.url}</code>);<br>        }).catch((error) =&gt; {<br>            console.log(error);<br>        });<br>    }<br>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">### 进度条（生成app的进度显示）</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E8%BF%9B%E5%BA%A6%E6%9D%A1.jpg)</div><div class="line">`具体实现：`</div></pre></td></tr></table></figure>
<p>// stroke-dasharray=”0,10000” 第一个值就是填充的值，为0，第二段为不填充的长度，超过圆环的周长即可。此时进度条为0%：<br>const AppProgressCircle = (prop) =&gt; {<br>    const {<br>        percent = 0,<br>        size = 111,<br>    } = prop;<br>    const circleLength = Math.floor(2 <em> Math.PI </em> 56);<br>    const dashArray = <code>${(circleLength * percent) / 100},10000</code>;<br>    return (<br>        <div classname="app-progress-circle"><br>            <svg width="{size}" height="{size}" viewbox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg"><br/>                <circle classname="progress-background" cx="56" cy="56" r="56" fill="transparent"/><br/>                <circle classname="progress-bar" cx="56" cy="56" r="56" fill="transparent" strokedasharray="{dashArray}"/><br/>            </svg><br>            <p classname="percent-text">{percent}%</p><br>        </div><br>    );<br>};</p>
<p>export default AppProgressCircle;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">`核心代码：`</div></pre></td></tr></table></figure>
<p> // 最后记得页面卸载的时候清除定时器<br>  componentWillUnmount() {<br>        clearInterval(this.timerCheckApp);<br>    }</p>
<p> checkAppTimer(ds, dispatch, siteId) {<br>        const countDown = 5; // 5分钟请求验证检查app是否生成成功<br>        const d = new Date(<code>1111/1/1,0:${countDown}:0</code>);<br>        clearInterval(this.Timer);<br>        // 在countDown时间间隔内进行循环的请求操作和进度条数字控制<br>        this.timerCheckApp = setInterval(() =&gt; {<br>            // const fast = 5000;<br>            // const slow = 9000;<br>            let m = d.getMinutes();<br>            let s = d.getSeconds();<br>            m = m &lt; 10 ? <code>0${m}</code> : m;<br>            s = s &lt; 10 ? <code>0${s}</code> : s;<br>            d.setSeconds(s - 1);<br>            dispatch(checkAppGenerate(ds, siteId));<br>            // 进度条的处理<br>            this.setAppProcess();<br>            // 定时器为0或者生成成功停止请求<br>            if (m === ‘00’ &amp;&amp; s === ‘00’) {<br>                // 将最后的code赋值<br>                this.setState({<br>                    code: this.props.appGenerate.code,<br>                });<br>                clearInterval(this.timerCheckApp);<br>                this.timerCheckApp = undefined;<br>                console.log(‘最后code’, this.props.appGenerate.code);<br>            }<br>            // 请求成功时清除定时器<br>            if (this.props.appGenerate.code === 0) {<br>                dispatch(getAppInfo(ds, siteId));<br>                this.setAppProcess(100); // 将进度条设置为100<br>                clearInterval(this.timerCheckApp);<br>            }<br>            console.log(‘定时器’, <code>${m}:${s}</code>);</p>
<pre><code>              }, 5000);
}
</code></pre><p>   // 设置进度条的数值<br>     setAppProcess() {<br>        if (this.state.appProcess &lt; 99) {<br>            this.setState({<br>                appProcess: this.state.appProcess + 1,<br>            });<br>        }<br>        if (this.state.appProcess === 99) {<br>            // 到达99%时候清除定时器<br>            clearInterval(this.timerCheckApp);<br>            this.setState({<br>                code: 30005,  // 进度条99%时候请求未成功<br>            });<br>        }<br>    }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">### 图片裁剪([e.screenX.md--drag.html--drags.html](e.screenX.md))</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87111.jpg)</div><div class="line"></div><div class="line">1. 图片裁剪位置确定，canvas截取图片，转化成文件，传递后台</div><div class="line">2. 裁剪框的实现（4条线（东西南北方向，负边距定制位置），8个点位置方向的确定（绝对定位，负边距实现定位））</div><div class="line">3. 将需要裁剪的图片作为一个背景图片</div><div class="line">4. 将图像转绘制在canvas画布上面（注意将已有图片加载完成才绘制画布）</div><div class="line">5. canvas的宽高和位置的确定</div><div class="line">6. data-*自定义属性</div><div class="line">7. 9个方向的位置计算（e.screenX计算，鼠标的移动位置mouseMove,mouseDown）</div><div class="line"></div><div class="line">` 核心代码：` （drawImage定时器绘制视频帧）</div><div class="line">ctx.drawImage(image, x, y, width, height, 0, 0, canvasW, canvasH);</div><div class="line"></div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/drawImage.jpg)</div></pre></td></tr></table></figure>
<pre><code>handleConfirm() {
    const canvas = this.canvas;
    const ctx = canvas.getContext(&apos;2d&apos;);
    const image = new Image();
    image.onload = () =&gt; { //注意！！！：已有图片加载完成，才绘制图片
        const x = this.state.x / this.scaleRatio; // 裁剪图片的位置
        const y = this.state.y / this.scaleRatio;
        const width = this.state.width / this.scaleRatio; // 被裁剪图像的宽高
        const height = this.state.height / this.scaleRatio;
        const canvasW = this.props.scale ? this.state.width : width;
        const canvasH = this.props.scale ? this.state.height : height;
        canvas.height = canvasH; // 伸展或缩小图像
        canvas.width = canvasW;   //0，0在画布上放置图像的x,y坐标位置
        ctx.drawImage(image, x, y, width, height, 0, 0, canvasW, canvasH);
        this.setState({
            cropped: true,
        });
        this.props.handleCrop(canvas.toDataURL());
    };
    image.src = this.props.imgsrc;
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&gt; 9个方向的位置计算（e.screenX计算，鼠标的移动位置mouseMove,mouseDown）</div></pre></td></tr></table></figure>
<p>handleMouseMove(e) {<br>        let offsetX = e.screenX - this.moveStartX;<br>        let offsetY = e.screenY - this.moveStartY;<br>        this.moveStartX = e.screenX;<br>        this.moveStartY = e.screenY;<br>        const lastX = this.state.x;<br>        const lastY = this.state.y;<br>        const lastH = this.state.height;<br>        const lastW = this.state.width;<br>        const imageH = this.imageH;<br>        const imageW = this.imageW;<br>        const minOffset = 0;<br>        const minUnit = 10;<br>        switch (this.direction) {<br>        case ‘all’: {<br>            let nowX = lastX + offsetX;<br>            const maxX = imageW - lastW;<br>            nowX = compare(nowX, minOffset, maxX);</p>
<pre><code>    let nowY = lastY + offsetY;
    const maxY = imageH - lastH;
    nowY = compare(nowY, minOffset, maxY);

    this.setState({ x: nowX, y: nowY });
    break;
}
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">&gt; 裁剪布局的实现：</div></pre></td></tr></table></figure>
<p><div classname="{className}"><br>        <div classname="image-cropper-container" onmousedown="{this.handleMouseDown}" style="{containerStyle}"><br>         <div classname="image-background"><br>            <img src="{this.props.imgsrc}" onload="{this.handleImageLoad}" style="<br">               alt=”cropper”<br>              /&gt;<br>               </div><br>          <div classname="image-mask"><br>        <div classname="image-crop-box" style="{boxStyle}"><br>              <div classname="image-crop-view"><br>                <img src="{this.props.imgsrc}" style="{transStyle}" alt="cropper"><br>         </div><br>     <div classname="image-crop-move" data-direction="all"><br>       </div><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"> 裁剪出现问题：canvas转化为，不接受跨域图片</div><div class="line"> ![Alt text](http://obfnbicau.bkt.clouddn.com/%E8%A3%81%E5%89%AA%E5%87%BA%E9%94%99.jpg)</div><div class="line"> ![Alt text](http://obfnbicau.bkt.clouddn.com/canvas%E8%B7%A8%E5%9F%9F.png)</div><div class="line"></div><div class="line">[TOC]</div><div class="line"></div><div class="line">### 上传图片</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E5%A4%A7%E5%9B%BE.jpg)</div><div class="line"></div><div class="line">1. 上传图片的图片槽AppImgSlot组件，（图片列表，拖拽功能，替换功能，删除功能imgList=[],onDrag,onReplace,onRemove）</div><div class="line">2. 图片上传功能：</div></pre></td></tr></table></figure></div></div></div></div></p>
<p>input上传图片 uploadImage(file, types, this.context.ds)<br>         .then((url) =&gt; {<br>             afterUpload(url);<br>         })</p>
<pre><code>.catch(() =&gt; errorUpload(&apos;请上传合适尺寸/格式的图片&apos;));)
</code></pre><hr>
<p>export const uploadImage = (file, types, ds) =&gt; new Promise((resolve, reject) =&gt; {<br>    if (types.length &amp;&amp; types.every(item =&gt; (file.type.indexOf(item)) === -1)) {<br>        reject();<br>    } else {<br>        const formData = new FormData();<br>        formData.append(‘file’, file);<br>        ds.resolve(‘pp/app.pics’, {<br>            body: formData,<br>            mode: ‘FormData’,<br>        }).then((res) =&gt; {<br>            resolve(<code>http://pic.kuaizhan.com${res.body.data.url}</code>);<br>        }).catch((error) =&gt; {<br>            console.log(error);<br>        });<br>    }<br>});</p>
<hr>
<p>// 定义接口组v1<br>ds.registerGroup(‘v1’, {<br>    urlPrefix: conf.get(‘url_app_v1’),<br>    requestProcessor: (req) =&gt; {<br>        if (req.body) {<br>            if (!req.headers) {<br>                req.headers = {};<br>            }<br>            if (!(req.body instanceof FormData)) {<br>                req.headers[‘Content-Type’] = ‘application/x-www-form-urlencoded;charset=UTF-8’;<br>                req.body = encodeQueryString(req.body);<br>            }<br>        }<br>        return req;<br>    },<br>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">3. 图片拖拽功能：</div></pre></td></tr></table></figure>
<p><img src="{item}" data-index="{index}" 拖动数据="" draggable="{!!onDrag}" ondragstart="{ev" ==""> (ev.dataTransfer.setData(‘Text’, index))}<br>   // 接收数据<br>   onDragOver={(ev) =&gt; { ev.preventDefault(); }}<br>   onDrop={(ev) =&gt; {<br>   if (!onDrag) { return; }<br>     onDrag(ev.dataTransfer.getData(‘Text’), index);<br>      }<br>   }   // 调用 preventDefault() 来避免浏览器对数据的默认处理（drop 事件的默认行为是以链接形式打开）<br>  alt=”图片”<br>   className=”img”</p>
<h2 id="gt"><a href="#gt" class="headerlink" title=" /&gt;"></a> /&gt;</h2><p> ／／<br>    handleDrag(from, to) {<br>        const imgList = […this.state.imgList];<br>        [imgList[from], imgList[to]] = [imgList[to], imgList[from]];<br>        this.setState({ imgList });<br>        this.props.onDrag(imgList);<br>    }<br>    handleRemove(index) {<br>        const imgList = […this.state.imgList];<br>        imgList.splice(index, 1);<br>        this.setState({<br>            imgList,<br>        });<br>        this.props.onRemove(imgList);<br>    }<br>    handleReplace(index) {<br>        this.changeIndex = index;<br>        this.uploader.upload();<br>    }<br>    handleAddImg(url) {<br>        const imgList = […this.state.imgList];<br>        imgList[this.changeIndex] = url;<br>        this.setState({ imgList });<br>        this.props.onUpload(imgList);<br>    }<br>    handleError(error) {<br>        this.props.errorUpload(error);<br>    }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> ![Alt text](http://obfnbicau.bkt.clouddn.com/%E6%8B%96%E6%94%BE.jpg)</div><div class="line"></div><div class="line">###  预览</div><div class="line"></div><div class="line">1. 第四步设置使用预览：</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/4%E9%A2%84%E8%A7%88.jpg)</div></pre></td></tr></table></figure></p>
<pre><code>{
   this.props.createPosition === &apos;createApp&apos; ?
    &lt;AppConfigPreview
                      color={this.props.currentConfig.appTitle}
                      src={this.props.currentConfig.domainName}
                      previewTop={PREVIEW_POSITION.previewTop}
                      previewRight={PREVIEW_POSITION.previewRight}
      /&gt; :
     &lt;AppConfigPreview
                      color={this.props.currentConfig.appTitle}
                      previewTop={PREVIEW_POSITIONM.previewTop}
                      previewRight={PREVIEW_POSITIONM.previewRight}
        /&gt;
          }
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"> 2. 站点列表预览</div><div class="line"> ![Alt text](http://obfnbicau.bkt.clouddn.com/%E7%AB%99%E7%82%B9%E9%A2%84%E8%A7%88.jpg)</div><div class="line"> </div><div class="line">`核心代码：`</div></pre></td></tr></table></figure>
 <iframe src="{src}" title="preivew" frameborder="0" classname="config-preview-iframe">

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&gt; 预览扩展：借助iframe和blob实现前端代码的实时预览(IE浏览器遗憾并不支持src直接是URL对象)</div></pre></td></tr></table></figure>
<p>// 1. 创建<iframe>元素<br>var iframe = document.createElement(‘iframe’);<br>// 2. 将CSS，HTML字符串转换为Blob对象<br>var blob = new Blob([htmlCode], {<br>  ‘type’: ‘text/html’<br>});<br>// 3. 使用URL.createObjectURL()方法将…<br>iframe.src = URL.createObjectURL(blob);</iframe></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">### 生成二维码(网上解决办法)（生成二维码的源代码）</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E4%BA%8C%E7%BB%B4%E7%A0%81.jpg) </div><div class="line"></div><div class="line">`核心代码：`</div></pre></td></tr></table></figure>
<p>const qrcodeUrl = ‘/v1/common/encode-png?large=true&amp;data=’;<br> <img classname="qcode" src="{`${qrcodeUrl}http://${item.domain}.t1.com`}" alt="二维码地址"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 图片上传文件的过滤（设计师的需求）</div><div class="line">`核心代码`:</div></pre></td></tr></table></figure>
  <input ref="{this.storeRef('fileInp')}" onchange="{this.handleUpload}" type="file" classname="app-file-input" accept="image/jpeg,image/gif,image/png,image/jpg">

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 折线图（实现数据的统计）配置</div><div class="line">![Alt text](http://obfnbicau.bkt.clouddn.com/%E6%8A%98%E7%BA%BF%E5%9B%BE.jpg)</div><div class="line">1. 折线图（react-highcharts(svg), Echarts(canvas))</div><div class="line">`核心代码`：</div></pre></td></tr></table></figure>
<p>// 管理app数据表数据 todo<br>export const APPCHARTSCONFIG = {<br>    // 图表区选项<br>    chart: {<br>        width: 850, // 自适应的宽度<br>        height: 412, // 自适应的高度<br>        plotBorderColor: ‘#D8D8D8’, // 主图表区边框的颜色，即X轴与Y轴围成的区域的边框颜色<br>    },<br>    legend: {<br>        enabled: false, // x轴下面的系列名称<br>    },<br>    colors: [‘#4886FF’], // 颜色选项<br>    xAxis: {        // X轴选项<br>        title: ‘’,<br>        legend: ‘’,<br>        tickWidth: 1, // 坐标轴的刻度<br>        labels: { //<br>            rotation: 0,<br>            style: {<br>                fontSize: ‘12px’,<br>                color: ‘#CFCED4’,<br>            },<br>        },<br>        categories: [<br>            ‘2017/10/07’,<br>            ‘2017/10/08’,<br>            ‘2017/10/09’,<br>            ‘2017/10/10’,<br>            ‘2017/10/11’,<br>            ‘2017/10/12’,<br>            ‘2017/10/13’,<br>        ],<br>        lineColor: ‘#D8D8D8’, // 基线颜色<br>        lineWidth: 1, // 基线宽度<br>    },<br>    yAxis: {<br>        title: ‘’,<br>        gridLineWidth: 1,    // 设置横向分区线宽度<br>        labels: { //<br>            rotation: 0,<br>            style: {<br>                fontSize: ‘12px’,<br>                color: ‘#CFCED4’,<br>            },<br>        },<br>    },<br>    series: [<br>        { // 数据列选项<br>            data: [<br>                13,<br>                15,<br>                12,<br>                16,<br>                16,<br>                13,<br>                11],<br>            color: ‘#4886FF’, // 优先级颜色最高<br>        },<br>    ],<br>    tooltip: {<br>        backgroundColor: ‘#FFF’,<br>        borderColor: ‘#E0DFE7’,<br>        shadow: ‘0 0 8px 0’,<br>        borderRadius: 3,<br>    },<br>    title: {<br>        text: null,<br>    },<br>    credits: {// 版权信息<br>        enabled: false,<br>    },<br>};</p>
<p>```</p>
<h3 id="路由和页面结构的搭建"><a href="#路由和页面结构的搭建" class="headerlink" title="路由和页面结构的搭建"></a>路由和页面结构的搭建</h3><p><img src="http://obfnbicau.bkt.clouddn.com/%E7%AE%A1%E7%90%86app%E7%9A%84%E9%A1%B5%E9%9D%A2%E7%BB%93%E6%9E%84.jpg" alt="Alt text"><br>路由的设置，组件的封装</p>
<h3 id="代码复用（多用弹窗的设置）"><a href="#代码复用（多用弹窗的设置）" class="headerlink" title="代码复用（多用弹窗的设置）"></a>代码复用（多用弹窗的设置）</h3><p> 弹窗1：<br><img src="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%971.jpg" alt="Alt text"><br>弹窗2：<br><img src="http://obfnbicau.bkt.clouddn.com/%20%E5%BC%B9%E7%AA%972.jpg" alt="Alt text"><br>弹窗3:<br><img src="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%973.jpg" alt="Alt text"><br>弹窗4:<br><img src="http://obfnbicau.bkt.clouddn.com/%E5%BC%B9%E7%AA%974.jpg" alt="Alt text"></p>
<h2 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h2><ol>
<li>eslint<br>className的规范：</li>
<li><ul classname="{`${config.cssPrefix}app-img-slot`}"><br>this.classname(‘app-img-solt’);方法的使用</ul></li>
<li>KZUIComponent</li>
</ol>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ol>
<li>养成写文档和记录，加注释的习惯，主动寻找问题的解决办法，记录博客，代码的优化</li>
<li>自己的一个知识体系和学习习惯</li>
<li><p>思考，解决，询问（最好的提问方式？？？）</p>
<p><img src="http://obfnbicau.bkt.clouddn.com/%E6%88%91%E7%9A%84%E5%89%8D%E7%AB%AF%E4%BD%93%E7%B3%BB.png" alt="Alt text"></p>
</li>
</ol>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><ol>
<li>没有最后～～～～～～～～～</li>
</ol>
</iframe>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2017/12/18/不是问题的问题/">项目总结以及思考</a></p>
        <p><span>Author:</span><a href="/" title="Back to Homepage">陈玉</a></p>
        <p><span>Created:</span>2017-12-18, 10:30:09</p>
        <p><span>Updated:</span>2017-12-28, 20:37:59</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2017/12/18/不是问题的问题/" title="项目总结以及思考">http://yoursite.com/2017/12/18/不是问题的问题/</a>
            <span class="copy-path" data-clipboard-text="From http://yoursite.com/2017/12/18/不是问题的问题/　　By 陈玉" title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2017/12/10/兼容性的拖拽功能/">
                    实现一个兼容性的拖拽功能
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#不是问题的问题"><span class="toc-number">1.</span> <span class="toc-text">不是问题的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#沟通（项目管理，产品经理，设计师，后台）"><span class="toc-number">1.1.</span> <span class="toc-text">沟通（项目管理，产品经理，设计师，后台）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#笔记"><span class="toc-number">1.2.</span> <span class="toc-text">笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#颜色选择器"><span class="toc-number">1.2.1.</span> <span class="toc-text">颜色选择器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#console-log-blob"><span class="toc-number">1.3.</span> <span class="toc-text">console.log(blob);</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gt"><span class="toc-number">1.4.</span> <span class="toc-text"> /></span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#路由和页面结构的搭建"><span class="toc-number">1.4.1.</span> <span class="toc-text">路由和页面结构的搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码复用（多用弹窗的设置）"><span class="toc-number">1.4.2.</span> <span class="toc-text">代码复用（多用弹窗的设置）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码规范"><span class="toc-number">1.5.</span> <span class="toc-text">代码规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#思考"><span class="toc-number">1.6.</span> <span class="toc-text">思考</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最后"><span class="toc-number">1.7.</span> <span class="toc-text">最后</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"项目总结以及思考　| 陈玉的博客　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
      <div class="duoshuo" id="comments">
    <div id="comment-box" ></div>
    <div class="ds-thread" id="ds-thread" data-thread-key="2017/12/18/不是问题的问题/" data-title="项目总结以及思考" data-url="http://yoursite.com/2017/12/18/不是问题的问题/"></div>
    <script>
        var duoshuoQuery = {short_name:"cychenyu"};
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            s.async = true; s.charset = 'UTF-8';
            (d.head || d.body).appendChild(s);
        }

        
    </script>
    
    <script> loadComment(); </script>

</div>
    




    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="Back to Homepage"><i class="fa fa-home"></i></a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2017/12/10/兼容性的拖拽功能/" title="Next: 实现一个兼容性的拖拽功能">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/18/不是问题的问题/">项目总结以及思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/10/兼容性的拖拽功能/">实现一个兼容性的拖拽功能</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/25/js常用的正则表达式/">js常用的正则表达式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/15/new做了啥/">new做了啥？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/07/JavaScript单线程/">JavaScript单线程和Event loop</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/prototype（显式原型）/">__proto_和prototype</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/你的Promise/">你的Promise</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/JS内存泄漏排查方法——Chrome Profiles/">JS内存泄漏排查方法——Chrome Profiles</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/OSI七层网络架构/">OSI七层网络架构</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/响应式web设计/">响应式web设计</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/30/jQuery的整体架构/">jQuery的源码解读(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/23/JSON（JavaScript Object Notation）/">JSON</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/this的指向问题/">this的指向问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/jQuery/">jQuery</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/JavaScript实现继承/">JavaScript的基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/10/图解http知识总结/">图解http知识总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/02/谈谈清除浮动/">清除浮动</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/18/作用域，作用域链，域解析/">作用域，作用域链，域解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/03/什么是盒子模型/">什么是盒子模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/02/关于ps的基础知识/">ps的基础知识</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 陈玉
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>